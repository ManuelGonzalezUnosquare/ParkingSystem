<div
  class="max-w-120 overflow-hidden rounded-3xl bg-white shadow-2xl"
  role="dialog"
  aria-labelledby="modal-security-title"
>
  <div
    class="relative bg-linear-to-br from-blue-600 to-indigo-700 px-8 py-10 text-center"
  >
    <div class="absolute inset-0 overflow-hidden opacity-10" aria-hidden="true">
      <div
        class="absolute -top-4 -left-4 h-24 w-24 rounded-full bg-white"
      ></div>
      <div
        class="absolute top-12 right-12 h-16 w-16 rounded-full bg-white"
      ></div>
    </div>

    <div class="relative z-10 flex flex-col items-center gap-4">
      <div
        class="flex h-16 w-16 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm shadow-inner"
      >
        <i class="pi pi-shield text-3xl text-white" aria-hidden="true"></i>
      </div>
      <div>
        <h2
          id="modal-security-title"
          class="m-0 text-2xl font-bold tracking-tight text-white"
        >
          Security First!
        </h2>
        <p
          class="mt-2 text-xs font-bold text-white uppercase tracking-[0.2em] opacity-90"
        >
          Initial Setup Required
        </p>
      </div>
    </div>
  </div>

  <div class="px-10 py-8">
    <header class="mb-8">
      <h3 class="text-xl font-semibold text-slate-800">
        Welcome to the Platform
      </h3>
      <p class="mt-2 text-sm leading-relaxed text-slate-500">
        To protect your account, please choose a personal password to replace
        the temporary one.
      </p>
    </header>

    <form [formGroup]="form" class="space-y-6" (submit)="doSubmit()" novalidate>
      <div class="form-control">
        <label for="password" class="form-label">New Password</label>
        <p-password
          id="password"
          formControlName="password"
          [feedback]="false"
          [toggleMask]="true"
          fluid
          placeholder="Min. 6 characters"
          autocomplete="new-password"
          [invalid]="form.controls.password.invalid && form.controls.password.touched"
          aria-describedby="password-error"
        />
        <app-form-validation-error
          id="password-error"
          [touched]="form.controls.password.touched"
          [errors]="form.controls.password.errors"
          label="Password"
        />
      </div>

      <div class="form-control">
        <label for="confirm" class="form-label">Confirm Password</label>
        <p-password
          id="confirm"
          formControlName="confirmPassword"
          [toggleMask]="true"
          [feedback]="false"
          fluid
          placeholder="Repeat your password"
          autocomplete="new-password"
          [invalid]="form.controls.confirmPassword.invalid && form.controls.confirmPassword.touched"
          aria-describedby="confirm-error"
        />
        <app-form-validation-error
          id="confirm-error"
          [touched]="form.controls.confirmPassword.touched"
          [errors]="form.controls.confirmPassword.errors"
          label="Confirmation"
        />
      </div>

      <app-form-feedback [callState]="store.callState()" />

      <p-button
        type="submit"
        label="Update & Get Started"
        icon="pi pi-arrow-right"
        iconPos="right"
        size="large"
        fluid
        [loading]="store.loading()"
        [disabled]="form.invalid && form.touched"
      />
    </form>

    <footer class="mt-6 text-center text-xs text-slate-400">
      <i class="pi pi-info-circle mr-1" aria-hidden="true"></i>
      This step is mandatory for all new users.
    </footer>
  </div>
</div>
