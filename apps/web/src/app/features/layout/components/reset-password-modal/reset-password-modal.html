<div
  class="max-w-120 overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-black/5"
>
  <div
    class="relative bg-linear-to-br from-blue-600 to-indigo-700 px-8 py-10 text-center"
  >
    <div class="absolute inset-0 overflow-hidden opacity-10">
      <div
        class="absolute -top-4 -left-4 h-24 w-24 rounded-full bg-white"
      ></div>
      <div
        class="absolute top-12 right-12 h-16 w-16 rounded-full bg-white"
      ></div>
    </div>

    <div class="relative z-10 flex flex-col items-center gap-4">
      <div
        class="flex h-16 w-16 items-center justify-content-center rounded-2xl bg-white/20 backdrop-blur-sm"
      >
        <i class="pi pi-shield text-3xl text-white"></i>
      </div>
      <div>
        <h2 class="m-0 text-2xl font-bold tracking-tight text-white">
          Security First!
        </h2>
        <p
          class="mt-2 text-sm font-medium text-indigo-100 uppercase tracking-widest"
        >
          Initial Setup Required
        </p>
      </div>
    </div>
  </div>

  <div class="px-10 py-8">
    <div class="mb-8">
      <h3 class="text-xl font-semibold text-slate-800">
        Welcome to the Platform
      </h3>
      <p class="mt-2 text-sm leading-relaxed text-slate-500">
        Hello! To protect your account and the building's data, please choose a
        personal password to replace the temporary one we assigned to you.
      </p>
    </div>

    <form [formGroup]="form" class="space-y-6" (submit)="doSubmit()">
      <div class="form-control">
        <label for="password" class="form-label">New Password</label>
        <p-password
          autocomplete="off"
          id="password"
          formControlName="password"
          feedback="false"
          [toggleMask]="true"
          fluid
          placeholder="Min. 6 characters"
          [invalid]="form.controls.password.invalid && form.controls.password.touched"
        >
        </p-password>

        <app-form-validation-error
          [touched]="form.controls.password.touched"
          [errors]="form.controls.password.errors"
          label="Password"
        />
      </div>

      <div class="form-control">
        <label for="confirm" class="form-label">Confirm Password</label>
        <p-password
          id="confirm"
          autocomplete="off"
          formControlName="confirmPassword"
          [toggleMask]="true"
          [feedback]="false"
          fluid
          placeholder="Repeat your password"
          [invalid]="form.controls.confirmPassword.invalid && form.controls.confirmPassword.touched"
        >
        </p-password>

        <app-form-validation-error
          [touched]="form.controls.confirmPassword.touched"
          [errors]="form.controls.confirmPassword.errors"
          label="Confirm Password"
        />
      </div>

      <app-form-feedback [callState]="store.callState()" />
      <p-button
        type="submit"
        label="Update & Get Started"
        icon="pi pi-arrow-right"
        iconPos="right"
        size="large"
        fluid
        [loading]="store.loading()"
      />
    </form>

    <p class="mt-6 text-center text-xs text-slate-400">
      <i class="pi pi-info-circle mr-1"></i>
      This step is mandatory for all new users.
    </p>
  </div>
</div>
